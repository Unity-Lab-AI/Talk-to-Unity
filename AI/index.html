<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unity Voice Lab</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700&family=Roboto+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
    />
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="./ai.css" />
    <script>
        (function () {
            try {
                const isFileProtocol = window.location.protocol === 'file:';
                const hasCookie = document.cookie.split(';').some((cookie) =>
                    cookie.trim().toLowerCase().startsWith('checks-passed=true')
                );

                if (!hasCookie && !isFileProtocol) {
                    const fallbackUrl = new URL('../index.html', window.location.href);
                    window.location.replace(fallbackUrl.toString());
                }
            } catch (error) {
                console.warn('Unable to enforce landing check redirect:', error);
            }
        })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.1"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.1"></script>
    <script defer src="./app.js"></script>
</head>
<body class="no-js" data-app-state="experience">
    <noscript>
        <div class="no-js-banner" role="alert">
            <strong>JavaScript is disabled.</strong>
            The live Unity assistant requires JavaScript, so the static preview is shown instead.
        </div>
    </noscript>

    <div id="app-root">
        <div class="app-shell">
            <header class="status-banner" role="status" aria-live="polite">
                <button id="mute-indicator" class="mute-indicator" data-state="muted" type="button">
                    <span class="indicator-text">Tap or click anywhere to unmute</span>
                </button>
            </header>
            <main class="layout" aria-live="polite">
                <figure id="hero-stage" class="image-stage" data-state="empty" aria-hidden="true">
                    <img id="hero-image" alt="" loading="lazy" decoding="async" />
                </figure>
                <section class="voice-stage" role="group" aria-label="Voice activity monitors">
                    <article class="voice-circle ai" data-role="ai" aria-label="Unity is idle">
                        <div class="pulse-ring"></div>
                        <span class="sr-only">Unity</span>
                    </article>
                    <article class="voice-circle user" data-role="user" aria-label="Microphone is muted">
                        <div class="pulse-ring"></div>
                        <span class="sr-only">You</span>
                    </article>
                </section>
            </main>
        </div>
    </div>
</body>
</html>